(function(){var k,a,g,o,l,b,d,h,n,m,j,f,c,i,e;m=document;g=m.querySelector.bind(m);a=m.getElementById.bind(m);o=m.querySelectorAll.bind(m);k=m.createElement.bind(m);e=Object.prototype.toString;j=function(p){return e.call(p).replace("[object ","").replace("]","").toLowerCase()};f=function(p){return j(p)==="function"};c=function(){return new Date().getTime()};l=function(q,p){this.listeners=this.listeners||{};this.listeners[q]=this.listeners[q]||[];return this.listeners[q].push(p)};b=function(t){var r,q,p,s;if(this.listeners){s=this.listeners[t];for(q=0,p=s.length;q<p;q++){r=s[q];if(this.listeners[t]&&f(r)){return r.call(this)}}}};n=function(){var y,r,x,A,v,u,p,B,w,s,C,z,q;p=k("div");v=this.config.skin?" "+this.config.skin:"";p.className="tan-block hidden"+v;p.id=this.id;z=(this.config.title!==false?'<div class="tan-title"><span>'+this.config.title+'</span><i class="close-this fa fa-close">X</i></div>':"");u=this.config.content||"";w=this.config.okVal||"确定";A=this.config.cancelVal||"取消";r=(this.config.ok!==false?'<a class="btn btn-ok">'+w+"</a>":"")+(this.config.cancel!==false?'<a class="btn btn-cancel">'+A+"</a>":"");p.innerHTML=z+'<div class="tan-content">'+u+'</div><div class="tan-btn-area">'+r+"</div>";x=p.querySelector(".tan-content");C=p.querySelector(".tan-title");y=p.querySelector(".tan-btn-area");s=(C?C.clientHeight:0)+y.clientHeight;q=this.config.width?parseInt(this.config.width,10):200;B=this.config.height?parseInt(this.config.height,10):200;p.style.marginLeft=-(q/2)+"px";p.style.marginTop=-((B+s)/2)+"px";p.style.zIndex=this.config.zIndex||"1001";p.style.top=this.config.top||"25%";p.style.left=this.config.left||"50%";x.style.width=q+"px";x.style.height=B+"px";return p};h=function(){var q,s,p,r;p=k("div");p.id="tanMask";p.className="tan-mask";q=this.config.maskBackground||"rgba(0,0,0,.7)";s=this.config.maskTransitionTime||"1s";r="-webkit-transition: opacity "+s+" ease-in-out;-webkit-transition: opacity "+s+" ease-in-out;background:"+q;p.setAttribute("style",r);return p};d=function(s){var r,p,u,t,q;q=function(){this.classList.remove("animated");this.classList.remove(s.name);this.isAnimating=false;if(j(s.fn)==="function"){s.fn.call(this)}this.removeEventListener("webkitAnimationEnd",q,false);return this.removeEventListener("animationend",q,false)};this.addEventListener("webkitAnimationEnd",q,false);this.addEventListener("animationend",q,false);if(j(s.name)==="string"){t=s.duration||1;p=j(s.delay)==="number"?s.delay:0;r=s.count||1;u=s.direction;if(!(j(this.isAnimating)==="boolean")){this.isAnimating=false}if(!this.isAnimating){this.isAnimating=true;if(t){t=t+"s";this.style.animationDuration=t;this.style.webkitAnimationDuration=t}if(p){p=p+"s";this.style.animationDelay=p;this.style.webkitAnimationDelay=p}if(u){this.style.animationDirection=u;this.style.webkitAnimationDirection=u}if(!(parseInt(r,10)===1)){this.style.animationIterationCount=r;this.style.webkitAnimationIterationCount=r}this.classList.add("animated");return this.classList.add(s.name)}}};i=(function(){function p(q){this.config=q;this.id="tan"+c();this.isOperating=false}p.prototype.version="0.1.0";p.prototype.show=function(r){var q;if(j(r)!=="boolean"){r=true}q=this;if(r){if(!a("tanMask")){m.body.appendChild(h.call(this));this.mask=a("tanMask")}this.mask.style.display="block";setTimeout(function(){return q.mask.style.opacity=1},0)}if(!a(this.id)){m.body.appendChild(n.call(this));this.node=a(this.id)}if(f(this.config.onShow)){this.config.onShow.call(this)}if(this.listeners&&this.listeners.show){b.call(this,"show")}if(this.node.querySelector(".btn-ok")){this.node.querySelector(".btn-ok").addEventListener("click",function(){if(f(q.config.ok)){q.config.ok.call(q)}if(q.listeners&&q.listeners.ok){return b.call(q,"ok")}},false)}if(this.node.querySelector(".btn-cancel")){this.node.querySelector(".btn-cancel").addEventListener("click",function(){var s;if(f(q.config.cancel)){s=q.config.cancel.call(q)}if(q.listeners&&q.listeners.cancel){b.call(q,"cancel")}if(s===false){return s}else{if(q){return q.close()}}},false)}if(this.node.querySelector(".close-this")){this.node.querySelector(".close-this").addEventListener("click",function(){return q.close()},false)}if(!this.config["in"]){this.config["in"]={name:"fadeInDown"}}this.config["in"].fn=function(){if(f(q.config.afterShow)){q.config.afterShow.call(q)}if(q.listeners&&q.listeners.afterShow){return b.call(q,"afterShow")}};this.node.classList.remove("hidden");d.call(this.node,this.config["in"]);return this};p.prototype.close=function(){var q;q=this;if(this.isOperating===false){this.isOperating=true;if(this.mask){this.mask.style.opacity=0}if(f(this.config.onClose)){this.config.onClose.call(this)}if(q.listeners&&q.listeners.close){b.call(q,"close")}if(this.node){if(!this.config.out){this.config.out={name:"fadeOutUp"}}this.config.out.fn=function(){q.node.classList.add("hidden");if(f(q.config.afterClose)){q.config.afterClose.call(q)}if(q.listeners&&q.listeners.afterClose){b.call(q,"afterClose")}q.isOperating=false;if(q.node){m.body.removeChild(q.node)}if(q.mask){return m.body.removeChild(q.mask)}};d.call(this.node,this.config.out)}return this}};p.prototype.on=function(r,q){return l.call(this,r,q)};return p})();window.tan=function(p){if(j(p)!=="object"){p={}}return new i(p)};window.tanAlert=function(s,q,r,p){return new i({skin:"tanAlert",title:"提示",width:300,height:"auto",content:'<div class="text-center">'+s+"</div>",okVal:"确定",ok:function(){if(f(q)){q.call(this)}return this.close()},"in":r||{name:"fadeInDown",duration:0.35},out:p||{name:"fadeOutUp",duration:0.35}}).show(false)};window.tanConfirm=function(r,p,q){return new i({skin:"tanConfirm",title:"提示",width:300,height:"auto",content:'<div class="text-center">'+r+"</div>",okVal:"确定",ok:function(){if(f(p)){return p.call(this)}},cancelVal:"取消","in":{name:"fadeInDown",duration:0.35},out:{name:"fadeOutUp",duration:0.35},cancel:function(){if(f(q)){q.call(this)}return this.close()}}).show()};window.tanTips=function(t,s,p,r,q){return new i({skin:"tanTips "+r,title:false,top:q||"50px",width:300,height:"auto",content:'<div class="text-center">'+t+"</div>",onShow:function(){var u;u=this;return setTimeout(function(){return u.close()},s||2000)},"in":{name:"fadeInDown",duration:0.35},out:{name:"fadeOutUp",duration:0.35},afterClose:function(){if(f(p)){return p.call(this)}}}).show(false)};window.errorTips=function(s,r,p,q){return tanTips(s,r,p,"d",q).show(false)};window.sucTips=function(s,r,p,q){return tanTips(s,r,p,"s",q).show(false)};window.infoTips=function(s,r,p,q){return tanTips(s,r,p,"i",q).show(false)};window.warnTips=function(s,r,p,q){return tanTips(s,r,p,"w",q).show(false)};window.primaryTips=function(s,r,p,q){return tanTips(s,r,p,"p",q).show(false)}}).call(this);